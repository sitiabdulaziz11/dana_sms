In Django, @login_required does NOT ask for login every time because:

âœ… Reason

When a user logs in, Django stores their authentication in a session (using cookies).
As long as the session is valid (not expired, not cleared), the user stays logged in.

So when they visit a page with @login_required, Django sees:

User has a valid session

â†’ Access is allowed

â†’ No need to re-login

This is normal behavior and exactly how authentication systems work.

âœ… If you want Django to ask login every time

There are several ways, depending on what you want.

Option 1: Reduce session expiry time

Make login expire very quickly (e.g., 1 minute).

# settings.py
SESSION_COOKIE_AGE = 60   # 60 seconds


Then after 1 minute of inactivity, the user must log in again.

Option 2: Log out user automatically after each request

If you want force login every time, you can log users out manually:

Example: force logout before accessing special view
from django.contrib.auth import logout

@login_required
def sensitive_page(request):
    logout(request)
    return redirect('login')


But this logs them out immediately, so they must log in again.

Option 3: Use session-based login (no remember-me)

By default Django session lasts until the browser is closed.

If your browser keeps sessions after restart, disable it:

# settings.py
SESSION_EXPIRE_AT_BROWSER_CLOSE = True


So the user must log in again after closing the browser.

Option 4: Add your own confirmation password page

If you want something like "Re-enter password to continue":

You can add a custom view:

@login_required
def verify_password(request):
    if request.method == "POST":
        if request.user.check_password(request.POST["password"]):
            request.session['verified'] = True
            return redirect('sensitive-page')
    return render(request, "verify.html")

â­ Summary
What you want	Solution
Ask login after short time	SESSION_COOKIE_AGE
Login required every visit	Call logout() in the view
Login expires when browser closes	SESSION_EXPIRE_AT_BROWSER_CLOSE = True
Re-enter password for special page	Custom confirm view

If you tell me exactly what behavior you want, I can give you the best recommended setup.

You said:
not expired, not cleared, when it expried and how it cleared?
ChatGPT said:

Great question â€” letâ€™s make it very clear and simple.

âœ… When does Django login session expire and get cleared?

Django sessions are stored in cookies + database (or cache).
Three things determine when a user is logged out:

1ï¸âƒ£ Expiration by time (SESSION_COOKIE_AGE)

By default:

SESSION_COOKIE_AGE = 1209600   # 2 weeks (in seconds)


That means:

âœ”ï¸ After 2 weeks, the session expires
âœ”ï¸ User must log in again

You can change it:

SESSION_COOKIE_AGE = 3600   # 1 hour

2ï¸âƒ£ Expiration when browser closes

If you enable:

SESSION_EXPIRE_AT_BROWSER_CLOSE = True


Then Django does not store expiry time in the cookie.

âœ”ï¸ When the browser closes â†’ user logged out
âœ”ï¸ When reopened â†’ must log in again

3ï¸âƒ£ Clearing when the user logs out

If you manually log out:

from django.contrib.auth import logout

logout(request)


âœ”ï¸ This clears the session immediately.

4ï¸âƒ£ Clearing when Django cleans old sessions

Django has a built-in command:

python manage.py clearsessions


This removes expired sessions from the database.

Django also runs this automatically periodically if you use:

database sessions

cache sessions

âœ”ï¸ Expired sessions are deleted
âœ”ï¸ User gets logged out (because session cookie no longer matches)

5ï¸âƒ£ Clearing by deleting cookies manually

If the user clears browser cookies:

âœ”ï¸ Session cookie is removed
âœ”ï¸ User gets logged out instantly

â­ Summary: Why your login is not asking again

Because:

Your session cookie is still valid (not 2 weeks old)

You have not closed the browser (if you didnâ€™t enable SESSION_EXPIRE_AT_BROWSER_CLOSE)

Django hasnâ€™t cleared the session

You didnâ€™t click logout

This is normal authentication behavior.

â­ If you want it to ask login every single visitâ€¦

Tell me exactly how you want it to behave:

Choose one:

â“ Ask login every time user opens the page

â“ Ask login after a very short time (e.g., 1 minute)

â“ Ask login after closing the browser

â“ Ask password again only for a special sensitive page

Which one do you want?

You said:
Clearing by deleting cookies manually, how i do it?
ChatGPT said:

You can delete cookies yourself from the browser.
When you delete cookies, Djangoâ€™s session cookie is removed â†’ the user is logged out immediately.

Below is how to do it in different browsers.

ğŸ”µ Google Chrome (Windows / Mac)
Option 1: Delete cookies for one site

Open your website in Chrome

Click the padlock icon on the left of the URL

Click Cookies

Select each cookie â†’ click Remove

Refresh the page â†’ you will be logged out

Option 2: Clear all cookies

Open Chrome

Press Ctrl + Shift + Delete (Windows)
Or Cmd + Shift + Delete (Mac)

Choose:

Cookies and other site data

Click Clear data

This logs you out of all sites.

ğŸ”µ Mozilla Firefox

Click the menu (â˜°)

Go to Settings

Go to Privacy & Security

In Cookies and Site Data, click Manage Data

Search your site

Select it â†’ Remove Selected

Refresh â†’ logged out

ğŸ”µ Microsoft Edge

Click the padlock icon â†’ Cookies

Remove cookies for the site

Refresh the page

Or:

Press Ctrl + Shift + Delete

Select Cookies

Clear data

ğŸ”µ Safari (Mac)

Click Safari > Settings

Go to Privacy

Click Manage Website Data

Search for your site

Click Remove

â­ After deleting cookies

When you open your Django page with @login_required, Django will:

âœ”ï¸ Not find the session cookie
âœ”ï¸ Redirect the user to the login page
âœ”ï¸ Ask to log in again
