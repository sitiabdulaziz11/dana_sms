{% comment %} {% extends "wizard_base.html" %} {% endcomment %}

{% load static %}

{% block css_file %}
    <link rel="stylesheet" href="{% static "parents/parent.css" %}" >
{% endblock %}

{% block content %}
{% include "includes/messages.html" %}

 {% comment %} <div class="progress">
    <p>Step {{ current_step }} Of {{ total_step }}</p>
    <progress value="{{ curent_step }}" max="{{ tetal_step }}"></progress>
</div>  {% endcomment %}

<div class="progress-container">
    <div
        class="progress-bar"
        role="progressbar"
        style="width: {{ progress_percent }}%;"
        aria-valuenow="{{ current_step }}"
        aria-valuemin="0"
        aria-valuemax="{{ total_steps }}"
    ></div>
</div>
<p>Step {{ current_step }} of {{ total_steps }}</p>

<h2>Step 1: Parent Information</h2>
<form method="post">
    {% csrf_token %}

    <label>
    <input type="radio" name="parent_choice" value="existing" checked>
    Select From Existing Parent
    </label>
    <label>
        <input type="radio" name="parent_choice" value="new">
        Add New Parent
    </label>

    <div id="existing-parents-section">
        <select name="existing_parents" multiple size="5">
            {% for parent in all_parents %}
            <option value="{{parent.id}}"> {{ parent.first_name }} {{ parent.middle_name }} {{ parent.last_name }}</option>
            {% endfor %}
        </select>
    </div>

    <div id="new-parent-section">
        {{ form.as_p }}
    </div>

    {% comment %} <!-- Existing Parents -->
    <h3>Select Existing Parents</h3>
     <select name="existing_parents" multiple size="5">
        {% for parent in all_parents %}
        <option value="{{ parent.id }}"
        {% if parent in selected_parents %}selected{% endif %}
        >
        {{parent.id}} {{ parent.first_name }} {{ parent.middle_name }} {{ parent.last_name }}
        </option>
        {% empty %}
            <option disabled>No parents found</option>
        {% endfor %}
    </select>  

    <!-- New Parent Form -->
    <h3>Add New Parent</h3>
    {{ form.as_p }}  {% endcomment %}

    <button type="submit" name="add_another">Save & Add Another</button>
    <button type="submit">Next</button>
</form>
{% endblock %}